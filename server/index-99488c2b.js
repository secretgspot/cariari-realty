'use strict';

var api = require('./api-12e8b0c7.js');
var Details = require('./Details-6e37f9a2.js');
var Badge = require('./Badge-0574c05d.js');
require('siema');
require('./StaticMap-5e5df9cc.js');
var helpers = require('./helpers-40195cd9.js');

/* src\components\UI\LoadSpinner.svelte generated by Svelte v3.12.1 */

const css = {
	code: ".loading.svelte-sgv4eb{display:flex;justify-content:center;align-items:center;width:100vw;height:100vh;overflow:hidden}.lds-dual-ring.svelte-sgv4eb{display:inline-block;width:135px;height:142px}.lds-dual-ring.svelte-sgv4eb:after{content:\" \";display:block;width:130px;height:130px;border-radius:50%;border:6px solid var(--color-black);border-color:var(--color-black) transparent var(--color-black) transparent;animation:svelte-sgv4eb-lds-dual-ring 1.2s linear infinite}@keyframes svelte-sgv4eb-lds-dual-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}",
	map: "{\"version\":3,\"file\":\"LoadSpinner.svelte\",\"sources\":[\"LoadSpinner.svelte\"],\"sourcesContent\":[\"<script>\\r\\n\\r\\n</script>\\r\\n\\r\\n<style lang='scss'>.loading {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  width: 100vw;\\n  height: 100vh;\\n  overflow: hidden; }\\n\\n.lds-dual-ring {\\n  display: inline-block;\\n  width: 135px;\\n  height: 142px; }\\n\\n.lds-dual-ring:after {\\n  content: \\\" \\\";\\n  display: block;\\n  width: 130px;\\n  height: 130px;\\n  border-radius: 50%;\\n  border: 6px solid var(--color-black);\\n  border-color: var(--color-black) transparent var(--color-black) transparent;\\n  animation: lds-dual-ring 1.2s linear infinite; }\\n\\n@keyframes lds-dual-ring {\\n  0% {\\n    transform: rotate(0deg); }\\n  100% {\\n    transform: rotate(360deg); } }\\n</style>\\r\\n\\r\\n<div class=\\\"loading\\\">\\r\\n\\t<div class=\\\"lds-dual-ring\\\"></div>\\r\\n</div>\"],\"names\":[],\"mappings\":\"AAImB,QAAQ,cAAC,CAAC,AAC3B,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MAAM,CACnB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,QAAQ,CAAE,MAAM,AAAE,CAAC,AAErB,cAAc,cAAC,CAAC,AACd,OAAO,CAAE,YAAY,CACrB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,AAAE,CAAC,AAElB,4BAAc,MAAM,AAAC,CAAC,AACpB,OAAO,CAAE,GAAG,CACZ,OAAO,CAAE,KAAK,CACd,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,aAAa,CAAC,CACpC,YAAY,CAAE,IAAI,aAAa,CAAC,CAAC,WAAW,CAAC,IAAI,aAAa,CAAC,CAAC,WAAW,CAC3E,SAAS,CAAE,2BAAa,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,AAAE,CAAC,AAElD,WAAW,2BAAc,CAAC,AACxB,EAAE,AAAC,CAAC,AACF,SAAS,CAAE,OAAO,IAAI,CAAC,AAAE,CAAC,AAC5B,IAAI,AAAC,CAAC,AACJ,SAAS,CAAE,OAAO,MAAM,CAAC,AAAE,CAAC,AAAC,CAAC\"}"
};

const LoadSpinner = api.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	$$result.css.add(css);

	return `<div class="loading svelte-sgv4eb">
		<div class="lds-dual-ring svelte-sgv4eb"></div>
	</div>`;
});

/* src\components\Preview.svelte generated by Svelte v3.12.1 */

const css$1 = {
	code: ".preview-content.svelte-g5dzay{background:linear-gradient(0deg, rgba(255, 255, 255, 0.81), rgba(255, 255, 255, 0.9));position:relative;z-index:2;display:flex;flex-direction:column;flex:1}figure.svelte-g5dzay{margin:0;padding:0;width:100%;height:42vh;position:relative}.image.svelte-g5dzay{width:100%;height:100%;object-fit:cover}.content.svelte-g5dzay{display:flex;flex-direction:column;align-items:center;flex:1}.badge-group.svelte-g5dzay{padding:2rem 0;display:flex;justify-content:space-evenly;width:100%}.preview-group.svelte-g5dzay{display:flex;flex-direction:column;justify-content:space-evenly;width:100%;padding:2rem 3rem 0rem}.preview-group.svelte-g5dzay .land_use.svelte-g5dzay{display:flex;justify-content:space-between}.preview-group.svelte-g5dzay .type_age.svelte-g5dzay{text-transform:uppercase;color:var(--color-darker)}.preview-group.svelte-g5dzay .price_rent.svelte-g5dzay{font-size:1.8em;display:flex;justify-content:space-between;margin:0.3rem 0}.ad-wrapper.svelte-g5dzay{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1}footer.svelte-g5dzay{margin:2rem 1rem 1rem;display:flex;justify-content:center}@media(orientation: landscape){figure.svelte-g5dzay{height:72vh}}@media(min-width: 768px) and (orientation: landscape){figure.svelte-g5dzay{height:45vh}.preview-group.svelte-g5dzay{padding:2rem 5rem 1rem}}",
	map: "{\"version\":3,\"file\":\"Preview.svelte\",\"sources\":[\"Preview.svelte\"],\"sourcesContent\":[\"<script>\\r\\n\\timport { createEventDispatcher } from 'svelte';\\r\\n\\timport Badge from '../components/UI/Badge.svelte';\\r\\n\\timport Button from '../components/UI/Button.svelte';\\r\\n\\timport Ad from \\\"../components/UI/Ad.svelte\\\";\\r\\n\\timport { formatter, ago } from 'helpers.js';\\r\\n\\r\\n\\texport let previewProperty;\\r\\n\\r\\n\\tconst dispatch = createEventDispatcher();\\r\\n\\r\\n\\t// $: console.log('previewProperty: ', previewProperty.id);\\r\\n</script>\\r\\n\\r\\n<style>\\r\\n\\t.preview-content {\\r\\n\\t\\tbackground: linear-gradient(0deg, rgba(255, 255, 255, 0.81), rgba(255, 255, 255, 0.9));\\r\\n\\t\\tposition: relative;\\r\\n\\t\\t/* width: 450px; */\\r\\n\\t\\tz-index: 2;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tflex: 1;\\r\\n\\t}\\r\\n\\r\\n\\tfigure {\\r\\n\\t\\tmargin: 0;\\r\\n\\t\\tpadding: 0;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 42vh;\\r\\n\\t\\tposition: relative;\\r\\n\\t}\\r\\n\\r\\n\\t.image {\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tobject-fit: cover;\\r\\n\\t}\\r\\n\\r\\n\\t.content {\\r\\n\\t\\t/* margin: 1rem; */\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tflex: 1;\\r\\n\\t}\\r\\n\\r\\n\\t.badge-group {\\r\\n\\t\\tpadding: 2rem 0;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: space-evenly;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\t/* box-shadow: inset 0px 1px 0px hsl(0, 0%, 100%),\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tinset 0px 2px 0px #00000045; */\\r\\n\\t}\\r\\n\\r\\n\\t.preview-group {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tjustify-content: space-evenly;\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\tpadding: 2rem 3rem 0rem;\\r\\n\\t}\\r\\n\\t.preview-group .land_use {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: space-between;\\r\\n\\t}\\r\\n\\t.preview-group .type_age {\\r\\n\\t\\ttext-transform: uppercase;\\r\\n\\t\\tcolor: var(--color-darker);\\r\\n\\t}\\r\\n\\t.preview-group .price_rent {\\r\\n\\t\\tfont-size: 1.8em;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: space-between;\\r\\n\\t\\tmargin: 0.3rem 0;\\r\\n\\t}\\r\\n\\t/* .preview-group .loc_address {\\r\\n\\t\\tfont-size: smaller;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tcolor: var(--color-dark);\\r\\n\\t} */\\r\\n\\r\\n\\t.ad-wrapper {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\tflex: 1;\\r\\n\\t}\\r\\n\\r\\n\\tfooter {\\r\\n\\t\\tmargin: 2rem 1rem 1rem;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t}\\r\\n\\r\\n\\t@media (orientation: landscape) {\\r\\n\\t\\tfigure { height: 72vh; }\\r\\n\\t}\\r\\n\\r\\n\\t@media (min-width: 768px) and (orientation: landscape) {\\r\\n\\t\\t/* .preview-content { max-width: 450px; } */\\r\\n\\t\\tfigure { height: 45vh; }\\r\\n\\t\\t.preview-group { padding: 2rem 5rem 1rem; }\\r\\n\\t}\\r\\n</style>\\r\\n\\r\\n<section class=\\\"preview-content\\\">\\r\\n\\t<figure>\\r\\n\\t\\t{#if previewProperty.photos}\\r\\n\\t\\t\\t<img class=\\\"image\\\" src=\\\"{previewProperty.photos[0]}\\\" alt=\\\"{previewProperty.msl}\\\" loading=\\\"eager\\\">\\r\\n\\t\\t{:else}\\r\\n\\t\\t\\t<img class=\\\"image\\\" src=\\\"/images/placeholder/450x360.png\\\" alt=\\\"Property placeholder\\\" loading=\\\"eager\\\">\\r\\n\\t\\t{/if}\\r\\n\\t</figure>\\r\\n\\r\\n\\t<div class=\\\"content\\\">\\r\\n\\t\\t<div class=\\\"preview-group\\\">\\r\\n\\t\\t\\t<div class=\\\"land_use\\\">\\r\\n\\t\\t\\t\\t{#each previewProperty.property_for as p_for}\\r\\n\\t\\t\\t\\t\\t<span>{p_for}</span>\\r\\n\\t\\t\\t\\t{/each}\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<div class=\\\"price_rent\\\">\\r\\n\\t\\t\\t\\t{#if previewProperty.rent}<span>{formatter.format(previewProperty.rent)}/m</span>{/if}\\r\\n\\t\\t\\t\\t{#if previewProperty.price}<span>{formatter.format(previewProperty.price)}</span>{/if}\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<div class=\\\"type_age\\\">\\r\\n\\t\\t\\t\\t{#if previewProperty.land_use}<span>{previewProperty.land_use}</span>{/if}\\r\\n\\t\\t\\t\\t{#if previewProperty.building_style}<span>&bull; {previewProperty.building_style}</span>{/if}\\r\\n\\t\\t\\t\\t{#if previewProperty.year_built}<span>&bull; {ago(new Date(previewProperty.year_built))} old</span>{/if}\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<!-- <div class=\\\"loc_address\\\">\\r\\n\\t\\t\\t\\t{#if previewProperty.location}<span>{previewProperty.location.lat} / {previewProperty.location.lng}</span>{/if}\\r\\n\\t\\t\\t</div> -->\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<div class=\\\"badge-group\\\">\\r\\n\\t\\t\\t{#if previewProperty.rooms_count > 0}\\r\\n\\t\\t\\t\\t<Badge type=\\\"icon\\\" label=\\\"rooms\\\" value=\\\"{previewProperty.rooms_count}\\\" />\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if previewProperty.beds_count > 0}\\r\\n\\t\\t\\t\\t<Badge type=\\\"icon\\\" label=\\\"beds\\\" value=\\\"{previewProperty.beds_count}\\\" />\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if previewProperty.baths_count > 0}\\r\\n\\t\\t\\t\\t<Badge type=\\\"icon\\\" label=\\\"baths\\\" value=\\\"{previewProperty.baths_count}\\\" />\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if previewProperty.half_baths_count > 0}\\r\\n\\t\\t\\t\\t<Badge type=\\\"icon\\\" label=\\\"half baths\\\" value=\\\"{previewProperty.half_baths_count}\\\" />\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t\\t{#if previewProperty.parking_spaces > 0}\\r\\n\\t\\t\\t\\t<Badge type=\\\"icon\\\" label=\\\"parkings\\\" value=\\\"{previewProperty.parking_spaces}\\\" />\\r\\n\\t\\t\\t{/if}\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\r\\n\\t<div class=\\\"ad-wrapper\\\">\\r\\n\\t\\t<Ad width=\\\"320\\\" height=\\\"100\\\" />\\r\\n\\t</div>\\r\\n\\r\\n\\t<footer>\\r\\n\\t\\t<Button type=\\\"button\\\" mode=\\\"needy\\\" on:click={() => dispatch('showdetails', previewProperty.id)}>\\r\\n\\t\\t\\tShow Details\\r\\n\\t\\t</Button>\\r\\n\\t</footer>\\r\\n</section>\\r\\n\"],\"names\":[],\"mappings\":\"AAeC,gBAAgB,cAAC,CAAC,AACjB,UAAU,CAAE,gBAAgB,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CACtF,QAAQ,CAAE,QAAQ,CAElB,OAAO,CAAE,CAAC,CACV,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,IAAI,CAAE,CAAC,AACR,CAAC,AAED,MAAM,cAAC,CAAC,AACP,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,CACV,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,QAAQ,CAAE,QAAQ,AACnB,CAAC,AAED,MAAM,cAAC,CAAC,AACP,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,KAAK,AAClB,CAAC,AAED,QAAQ,cAAC,CAAC,AAET,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,IAAI,CAAE,CAAC,AACR,CAAC,AAED,YAAY,cAAC,CAAC,AACb,OAAO,CAAE,IAAI,CAAC,CAAC,CACf,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,YAAY,CAC7B,KAAK,CAAE,IAAI,AAGZ,CAAC,AAED,cAAc,cAAC,CAAC,AACf,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,eAAe,CAAE,YAAY,CAC7B,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,CAAC,IAAI,CAAC,IAAI,AACxB,CAAC,AACD,4BAAc,CAAC,SAAS,cAAC,CAAC,AACzB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,AAC/B,CAAC,AACD,4BAAc,CAAC,SAAS,cAAC,CAAC,AACzB,cAAc,CAAE,SAAS,CACzB,KAAK,CAAE,IAAI,cAAc,CAAC,AAC3B,CAAC,AACD,4BAAc,CAAC,WAAW,cAAC,CAAC,AAC3B,SAAS,CAAE,KAAK,CAChB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,CAC9B,MAAM,CAAE,MAAM,CAAC,CAAC,AACjB,CAAC,AAQD,WAAW,cAAC,CAAC,AACZ,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,IAAI,CAAE,CAAC,AACR,CAAC,AAED,MAAM,cAAC,CAAC,AACP,MAAM,CAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CACtB,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,AACxB,CAAC,AAED,MAAM,AAAC,cAAc,SAAS,CAAC,AAAC,CAAC,AAChC,MAAM,cAAC,CAAC,AAAC,MAAM,CAAE,IAAI,AAAE,CAAC,AACzB,CAAC,AAED,MAAM,AAAC,YAAY,KAAK,CAAC,CAAC,GAAG,CAAC,cAAc,SAAS,CAAC,AAAC,CAAC,AAEvD,MAAM,cAAC,CAAC,AAAC,MAAM,CAAE,IAAI,AAAE,CAAC,AACxB,cAAc,cAAC,CAAC,AAAC,OAAO,CAAE,IAAI,CAAC,IAAI,CAAC,IAAI,AAAE,CAAC,AAC5C,CAAC\"}"
};

const Preview = api.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	

	let { previewProperty } = $$props;

	// $: console.log('previewProperty: ', previewProperty.id);

	if ($$props.previewProperty === void 0 && $$bindings.previewProperty && previewProperty !== void 0) $$bindings.previewProperty(previewProperty);

	$$result.css.add(css$1);

	return `<section class="preview-content svelte-g5dzay">
		<figure class="svelte-g5dzay">
			${ previewProperty.photos ? `<img class="image svelte-g5dzay"${api.add_attribute("src", previewProperty.photos[0], 0)}${api.add_attribute("alt", previewProperty.msl, 0)} loading="eager">` : `<img class="image svelte-g5dzay" src="/images/placeholder/450x360.png" alt="Property placeholder" loading="eager">` }
		</figure>

		<div class="content svelte-g5dzay">
			<div class="preview-group svelte-g5dzay">
				<div class="land_use svelte-g5dzay">
					${api.each(previewProperty.property_for, (p_for) => `<span>${api.escape(p_for)}</span>`)}
				</div>

				<div class="price_rent svelte-g5dzay">
					${ previewProperty.rent ? `<span>${api.escape(helpers.formatter.format(previewProperty.rent))}/m</span>` : `` }
					${ previewProperty.price ? `<span>${api.escape(helpers.formatter.format(previewProperty.price))}</span>` : `` }
				</div>

				<div class="type_age svelte-g5dzay">
					${ previewProperty.land_use ? `<span>${api.escape(previewProperty.land_use)}</span>` : `` }
					${ previewProperty.building_style ? `<span>• ${api.escape(previewProperty.building_style)}</span>` : `` }
					${ previewProperty.year_built ? `<span>• ${api.escape(helpers.ago(new Date(previewProperty.year_built)))} old</span>` : `` }
				</div>


			</div>

			<div class="badge-group svelte-g5dzay">
				${ previewProperty.rooms_count > 0 ? `${api.validate_component(Badge.Badge, 'Badge').$$render($$result, {
		type: "icon",
		label: "rooms",
		value: previewProperty.rooms_count
	}, {}, {})}` : `` }
				${ previewProperty.beds_count > 0 ? `${api.validate_component(Badge.Badge, 'Badge').$$render($$result, {
		type: "icon",
		label: "beds",
		value: previewProperty.beds_count
	}, {}, {})}` : `` }
				${ previewProperty.baths_count > 0 ? `${api.validate_component(Badge.Badge, 'Badge').$$render($$result, {
		type: "icon",
		label: "baths",
		value: previewProperty.baths_count
	}, {}, {})}` : `` }
				${ previewProperty.half_baths_count > 0 ? `${api.validate_component(Badge.Badge, 'Badge').$$render($$result, {
		type: "icon",
		label: "half baths",
		value: previewProperty.half_baths_count
	}, {}, {})}` : `` }
				${ previewProperty.parking_spaces > 0 ? `${api.validate_component(Badge.Badge, 'Badge').$$render($$result, {
		type: "icon",
		label: "parkings",
		value: previewProperty.parking_spaces
	}, {}, {})}` : `` }
			</div>
		</div>

		<div class="ad-wrapper svelte-g5dzay">
			${api.validate_component(Details.Ad, 'Ad').$$render($$result, { width: "320", height: "100" }, {}, {})}
		</div>

		<footer class="svelte-g5dzay">
			${api.validate_component(api.Button, 'Button').$$render($$result, { type: "button", mode: "needy" }, {}, { default: () => `
				Show Details
			` })}
		</footer>
	</section>`;
});

/* src\components\UI\Splash.svelte generated by Svelte v3.12.1 */

const css$2 = {
	code: ".splash.svelte-1pldvo9{z-index:11;position:fixed;top:0;bottom:0;left:0;right:0;display:flex;justify-content:center;align-items:center}.backdrop.svelte-1pldvo9{background:rgba(0, 0, 0, 0.63);width:100%;height:100%;position:absolute}@media screen and (orientation: portrait){.logo-group.svelte-1pldvo9{flex-direction:column}}.logo-group.svelte-1pldvo9{z-index:12;display:flex;align-items:center;user-select:none;cursor:pointer}.logo-group.svelte-1pldvo9 h1.svelte-1pldvo9{color:white;text-transform:uppercase;font-weight:lighter;margin:1rem 2rem}",
	map: "{\"version\":3,\"file\":\"Splash.svelte\",\"sources\":[\"Splash.svelte\"],\"sourcesContent\":[\"<script>\\r\\n\\timport { createEventDispatcher } from 'svelte';\\r\\n  import { fly, fade } from 'svelte/transition';\\r\\n\\timport LogoSvg from '../UI/LogoSvg.svelte';\\r\\n\\r\\n\\tconst dispatch = createEventDispatcher();\\r\\n\\r\\n\\tfunction closeSplash() {\\r\\n\\t\\tdispatch('splashed');\\r\\n\\t}\\r\\n</script>\\r\\n\\r\\n<style>\\r\\n\\t.splash {\\r\\n\\t\\tz-index: 11;\\r\\n\\t\\tposition: fixed; top: 0; bottom: 0; left: 0; right: 0;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: center;\\r\\n\\t\\talign-items: center;\\r\\n\\t}\\r\\n\\t.backdrop {\\r\\n\\t\\t/* background: rgba(255,255,255,0.18); */\\r\\n\\t\\tbackground: rgba(0, 0, 0, 0.63);\\r\\n\\t\\twidth: 100%;\\r\\n\\t\\theight: 100%;\\r\\n\\t\\tposition: absolute;\\r\\n\\t}\\r\\n\\r\\n\\t@media screen and (orientation: portrait) {\\r\\n\\t\\t.logo-group { flex-direction: column; }\\r\\n\\t}\\r\\n\\t.logo-group {\\r\\n\\t\\tz-index: 12;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\talign-items: center;\\r\\n\\t\\tuser-select: none;\\r\\n\\t\\tcursor: pointer;\\r\\n\\t}\\r\\n\\t.logo-group h1 {\\r\\n\\t\\tcolor: white;\\r\\n\\t\\ttext-transform: uppercase;\\r\\n\\t\\t/* font-family: 'Economica', sans-serif; */\\r\\n\\t\\tfont-weight: lighter;\\r\\n\\t\\tmargin: 1rem 2rem;\\r\\n\\t}\\r\\n</style>\\r\\n\\r\\n<div transition:fade class=\\\"splash\\\" on:click={closeSplash}>\\r\\n\\t<div class=\\\"backdrop\\\"></div>\\r\\n\\r\\n\\t<div class=\\\"logo-group\\\">\\r\\n\\t\\t<h1>Cariari</h1>\\r\\n\\t\\t<!-- <Logo type=\\\"regular\\\" color=\\\"gold\\\" size=\\\"150\\\" /> -->\\r\\n\\t\\t<LogoSvg animate=\\\"{true}\\\" style=\\\"gold\\\" size=\\\"150\\\" time=\\\"{3}\\\" />\\r\\n\\t\\t<h1>Realty</h1>\\r\\n\\t</div>\\r\\n</div>\"],\"names\":[],\"mappings\":\"AAaC,OAAO,eAAC,CAAC,AACR,OAAO,CAAE,EAAE,CACX,QAAQ,CAAE,KAAK,CAAE,GAAG,CAAE,CAAC,CAAE,MAAM,CAAE,CAAC,CAAE,IAAI,CAAE,CAAC,CAAE,KAAK,CAAE,CAAC,CACrD,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MAAM,AACpB,CAAC,AACD,SAAS,eAAC,CAAC,AAEV,UAAU,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAC/B,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,QAAQ,CAAE,QAAQ,AACnB,CAAC,AAED,OAAO,MAAM,CAAC,GAAG,CAAC,cAAc,QAAQ,CAAC,AAAC,CAAC,AAC1C,WAAW,eAAC,CAAC,AAAC,cAAc,CAAE,MAAM,AAAE,CAAC,AACxC,CAAC,AACD,WAAW,eAAC,CAAC,AACZ,OAAO,CAAE,EAAE,CACX,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,WAAW,CAAE,IAAI,CACjB,MAAM,CAAE,OAAO,AAChB,CAAC,AACD,0BAAW,CAAC,EAAE,eAAC,CAAC,AACf,KAAK,CAAE,KAAK,CACZ,cAAc,CAAE,SAAS,CAEzB,WAAW,CAAE,OAAO,CACpB,MAAM,CAAE,IAAI,CAAC,IAAI,AAClB,CAAC\"}"
};

const Splash = api.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {

	$$result.css.add(css$2);

	return `<div class="splash svelte-1pldvo9">
		<div class="backdrop svelte-1pldvo9"></div>

		<div class="logo-group svelte-1pldvo9">
			<h1 class="svelte-1pldvo9">Cariari</h1>

			${api.validate_component(api.LogoSvg, 'LogoSvg').$$render($$result, {
		animate: true,
		style: "gold",
		size: "150",
		time: 3
	}, {}, {})}
			<h1 class="svelte-1pldvo9">Realty</h1>
		</div>
	</div>`;
});

const contextKey = {};

/* src\components\Map\Map.svelte generated by Svelte v3.12.1 */

const css$3 = {
	code: ".map-wrapper.svelte-cml6ez{width:100%;height:100%}",
	map: "{\"version\":3,\"file\":\"Map.svelte\",\"sources\":[\"Map.svelte\"],\"sourcesContent\":[\"<script>\\r\\n  import { onMount, createEventDispatcher, setContext } from \\\"svelte\\\";\\r\\n  import { contextKey } from \\\"./mapbox.js\\\";\\r\\n\\r\\n  setContext(contextKey, {\\r\\n    getMap: () => map,\\r\\n    getMapbox: () => mapbox\\r\\n  });\\r\\n\\r\\n  const dispatch = createEventDispatcher();\\r\\n\\r\\n  let container;\\r\\n  let map;\\r\\n  let mapbox;\\r\\n  export let options = {};\\r\\n  export let accessToken;\\r\\n  export let style = \\\"mapbox://styles/secretgspot/ck0n5b47v098x1co2yrdd57i5\\\";\\r\\n\\r\\n  // export let bounds = [\\r\\n  //   [-84.15194476346613, 9.962904177097485], // SW\\r\\n  //   [-84.16587277728922, 9.972644094689585] // NE\\r\\n  // ]; // maxBounds\\r\\n\\r\\n  export function setMaxBounds(bounds) {\\r\\n    if (map) {\\r\\n      map.setMaxBounds(bounds);\\r\\n    }\\r\\n  };\\r\\n\\r\\n  export function setCenter(center, zoom, minzoom, maxzoom) {\\r\\n    if (map) {\\r\\n      map.setCenter(center);\\r\\n      if (zoom && Number.isInteger(zoom)) {\\r\\n        map.setZoom(zoom);\\r\\n      }\\r\\n      if (minzoom && Number.isInteger(minzoom)) {\\r\\n        map.setMinZoom(minzoom);\\r\\n      }\\r\\n      if (maxzoom && Number.isInteger(maxzoom)) {\\r\\n        map.setMaxZoom(maxzoom);\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n\\r\\n  export function resize() {\\r\\n    map && map.resize();\\r\\n  }\\r\\n\\r\\n  onMount(async () => {\\r\\n    const mapboxModule = await import(\\\"mapbox-gl\\\");\\r\\n    mapbox = mapboxModule.default;\\r\\n    mapbox.accessToken = accessToken;\\r\\n    const link = document.createElement(\\\"link\\\");\\r\\n    link.rel = \\\"stylesheet\\\";\\r\\n    link.href = \\\"https://unpkg.com/mapbox-gl/dist/mapbox-gl.css\\\";\\r\\n    let el;\\r\\n    link.onload = () => {\\r\\n      el = new mapbox.Map({\\r\\n        container,\\r\\n        style,\\r\\n        ...options\\r\\n      });\\r\\n      el.on(\\\"dragend\\\", () => dispatch(\\\"recentre\\\", { center: el.getCenter() }));\\r\\n      el.on(\\\"load\\\", () => {\\r\\n        map = el;\\r\\n        dispatch(\\\"ready\\\");\\r\\n      });\\r\\n    };\\r\\n    document.head.appendChild(link);\\r\\n    return () => {\\r\\n      map.remove();\\r\\n      link.parentNode.removeChild(link);\\r\\n    };\\r\\n  });\\r\\n</script>\\r\\n\\r\\n<style>\\r\\n  .map-wrapper {\\r\\n    /* position: fixed;\\r\\n    top: 0; bottom: 0;\\r\\n    left: 0; right: 0; */\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n  }\\r\\n</style>\\r\\n\\r\\n<div class=\\\"map-wrapper\\\" bind:this=\\\"{container}\\\">\\r\\n  {#if map}\\r\\n    <slot />\\r\\n  {/if}\\r\\n</div>\\r\\n\"],\"names\":[],\"mappings\":\"AA6EE,YAAY,cAAC,CAAC,AAIZ,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AACd,CAAC\"}"
};

const Map = api.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	

  api.setContext(contextKey, {
    getMap: () => map,
    getMapbox: () => mapbox
  });

  const dispatch = api.createEventDispatcher();

  let container;
  let map;
  let mapbox;
  let { options = {}, accessToken, style = "mapbox://styles/secretgspot/ck0n5b47v098x1co2yrdd57i5" } = $$props;

  // export let bounds = [
  //   [-84.15194476346613, 9.962904177097485], // SW
  //   [-84.16587277728922, 9.972644094689585] // NE
  // ]; // maxBounds

  function setMaxBounds(bounds) {
    if (map) {
      map.setMaxBounds(bounds);
    }
  }
  function setCenter(center, zoom, minzoom, maxzoom) {
    if (map) {
      map.setCenter(center);
      if (zoom && Number.isInteger(zoom)) {
        map.setZoom(zoom);
      }
      if (minzoom && Number.isInteger(minzoom)) {
        map.setMinZoom(minzoom);
      }
      if (maxzoom && Number.isInteger(maxzoom)) {
        map.setMaxZoom(maxzoom);
      }
    }
  }

  function resize() {
    map && map.resize();
  }

  api.onMount(async () => {
    const mapboxModule = await new Promise(function (resolve) { resolve(require('./mapbox-gl-adf3e1d0.js')); });
    mapbox = mapboxModule.default;
    mapbox.accessToken = accessToken;
    const link = document.createElement("link");
    link.rel = "stylesheet";
    link.href = "https://unpkg.com/mapbox-gl/dist/mapbox-gl.css";
    let el;
    link.onload = () => {
      el = new mapbox.Map({
        container,
        style,
        ...options
      });
      el.on("dragend", () => dispatch("recentre", { center: el.getCenter() }));
      el.on("load", () => {
        map = el;
        dispatch("ready");
      });
    };
    document.head.appendChild(link);
    return () => {
      map.remove();
      link.parentNode.removeChild(link);
    };
  });

	if ($$props.options === void 0 && $$bindings.options && options !== void 0) $$bindings.options(options);
	if ($$props.accessToken === void 0 && $$bindings.accessToken && accessToken !== void 0) $$bindings.accessToken(accessToken);
	if ($$props.style === void 0 && $$bindings.style && style !== void 0) $$bindings.style(style);
	if ($$props.setMaxBounds === void 0 && $$bindings.setMaxBounds && setMaxBounds !== void 0) $$bindings.setMaxBounds(setMaxBounds);
	if ($$props.setCenter === void 0 && $$bindings.setCenter && setCenter !== void 0) $$bindings.setCenter(setCenter);
	if ($$props.resize === void 0 && $$bindings.resize && resize !== void 0) $$bindings.resize(resize);

	$$result.css.add(css$3);

	return `<div class="map-wrapper svelte-cml6ez"${api.add_attribute("this", container, 1)}>
	  ${ map ? `${$$slots.default ? $$slots.default({}) : ``}` : `` }
	</div>`;
});

/* src\components\Map\NavigationControl.svelte generated by Svelte v3.12.1 */

const NavigationControl = api.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	

	const { getMap, getMapbox } = api.getContext(contextKey);
  const map = getMap();
	const mapbox = getMapbox();

  let { position = 'bottom-left', options = {} } = $$props;

  const nav = new mapbox.NavigationControl({
    ...options
	});

  map.addControl(nav, position);

	if ($$props.position === void 0 && $$bindings.position && position !== void 0) $$bindings.position(position);
	if ($$props.options === void 0 && $$bindings.options && options !== void 0) $$bindings.options(options);

	return ``;
});

/* src\components\Map\ScalingControl.svelte generated by Svelte v3.12.1 */

const ScalingControl = api.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	

	const { getMap, getMapbox } = api.getContext(contextKey);
  const map = getMap();
	const mapbox = getMapbox();

  let { position = 'bottom-right', options = {} } = $$props;

  const scale = new mapbox.ScaleControl({
    maxWidth: 80,
    unit: 'metric',
    ...options
	});

  map.addControl(scale, position);

	if ($$props.position === void 0 && $$bindings.position && position !== void 0) $$bindings.position(position);
	if ($$props.options === void 0 && $$bindings.options && options !== void 0) $$bindings.options(options);

	return ``;
});

/* src\components\Map\GeolocateControl.svelte generated by Svelte v3.12.1 */

const GeolocateControl = api.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	
	const { getMap, getMapbox } = api.getContext(contextKey);
  const map = getMap();
  const mapbox = getMapbox();
  let { position = 'bottom-left', options = {
		positionOptions: {
			enableHighAccuracy: true
		},
		trackUserLocation: true
	} } = $$props;

  const geolocate = new mapbox.GeolocateControl(options);
  map.addControl(geolocate, position);

	if ($$props.position === void 0 && $$bindings.position && position !== void 0) $$bindings.position(position);
	if ($$props.options === void 0 && $$bindings.options && options !== void 0) $$bindings.options(options);

	return ``;
});

const controls = {
  NavigationControl,
  ScalingControl,
  GeolocateControl
};

/* src\components\Map\Marker.svelte generated by Svelte v3.12.1 */

function createColor(property) {
	const propClasses = {
		'000': '#242F3E', // none
		'001': '#FF00F7', // investment (magenta)
		'010': '#FFC400', // rent (orange)
		'100': '#00E5FF', // sale (cyan)
		'011': '#FF0056', // investment + rent (burdengy)
		'101': '#8077D5', // investment + sale (purple)
		'110': '#80ED80',  // rent + sale (green)
		'111': '#FFFFFF' // investment + rent + sale (white)
	};
	const scaffold = {
		sale: false,
		rent: false,
		investment: false
	};
	for (let item of property.property_for) {
		scaffold[item.toLowerCase()] = true;
	}
	// return `#${scaffold.sale ? 'ff' : '00'}${scaffold.rent ? 'ff' : '00'}${scaffold.investment ? 'ff' : '00'}`; // old way
	return propClasses[`${Number(scaffold.sale)}${Number(scaffold.rent)}${Number(scaffold.investment)}`];
}

const Marker = api.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	

	const dispatch = api.createEventDispatcher();
	const { getMap, getMapbox } = api.getContext(contextKey);
  const map = getMap();
	const mapbox = getMapbox();

	let { lat, lon, label, property } = $$props;

		// Override internal functionality
		mapbox.Marker.prototype.onClick = function(handleClick) {
			this._handleClick = handleClick;
			return this;
		};
		mapbox.Marker.prototype._onMapClick = function(t) {
			const targetElement = t.originalEvent.target;
			const element = this._element;

			if (this._handleClick && (targetElement === element || element.contains((targetElement)))) {
				this.togglePopup();
				this._handleClick();
			}
		};

	const popup = new mapbox.Popup({ offset: 25 }).setText(property.msl);
	const marker = new mapbox.Marker({ color: createColor(property) })
		.setLngLat([lon, lat])
		.setPopup(popup)
		.onClick(() => {
				dispatch('showpreview', property.id);
				//map.setCenter([lon, lat]);
			})
		.addTo(map);

	if ($$props.lat === void 0 && $$bindings.lat && lat !== void 0) $$bindings.lat(lat);
	if ($$props.lon === void 0 && $$bindings.lon && lon !== void 0) $$bindings.lon(lon);
	if ($$props.label === void 0 && $$bindings.label && label !== void 0) $$bindings.label(label);
	if ($$props.property === void 0 && $$bindings.property && property !== void 0) $$bindings.property(property);

	return ``;
});

/* src\routes\index.svelte generated by Svelte v3.12.1 */

const css$4 = {
	code: ".main-wrapper.svelte-12ipato{display:grid;grid:1fr / 1fr;grid-template-areas:\"map\";width:100vw;height:100vh;overflow:hidden;background:var(--color-black)}.main-wrapper.previewing.svelte-12ipato{grid:1fr 1fr / 1fr;grid-template-areas:\"map\"\r\n      \"preview\"}@media(orientation: landscape){.main-wrapper.previewing.svelte-12ipato{grid:1fr / 1fr 1fr;grid-template-areas:\"map preview\"}}@media(min-width: 768px) and (orientation: landscape){.main-wrapper.previewing.svelte-12ipato{grid:1fr / 1fr minmax(450px, min-content)}}.map.svelte-12ipato{grid-area:map}.preview.svelte-12ipato{grid-area:preview;overflow:auto;display:flex;flex-direction:column}",
	map: "{\"version\":3,\"file\":\"index.svelte\",\"sources\":[\"index.svelte\"],\"sourcesContent\":[\"<script>\\r\\n  import { onMount } from \\\"svelte\\\";\\r\\n  import properties from \\\"../properties-store.js\\\";\\r\\n  import LoadSpinner from \\\"../components/UI/LoadSpinner.svelte\\\";\\r\\n  import Details from \\\"../components/Details.svelte\\\";\\r\\n  import Preview from \\\"../components/Preview.svelte\\\";\\r\\n  import Splash from \\\"../components/UI/Splash.svelte\\\";\\r\\n  import LogoSvg from \\\"../components/UI/LogoSvg.svelte\\\";\\r\\n  import { Map, controls } from \\\"../components/Map/components.js\\\";\\r\\n  import Marker from \\\"../components/Map/Marker.svelte\\\";\\r\\n  import * as api from \\\"api.js\\\";\\r\\n\\r\\n  const { NavigationControl, ScalingControl, GeolocateControl } = controls;\\r\\n\\r\\n  if (typeof window !== \\\"undefined\\\") {\\r\\n    window.global = {};\\r\\n  }\\r\\n  let mapComponent;\\r\\n\\r\\n  let selectedProperty = {};\\r\\n  let previewProperty = {};\\r\\n  let isSplash = true;\\r\\n  let isPreview = false;\\r\\n  let isDetails = false;\\r\\n  let isLoading = true;\\r\\n\\r\\n  // console.log('PHONE: ', process.env.phoneNumber)\\r\\n  // console.log('MAPBOX: ', process.env.mapboxToken)\\r\\n  // console.log('FIREBASE: ', process.env.Firebase)\\r\\n\\r\\n  onMount(async () => {\\r\\n    await api.get(`cariari.json`, null)\\r\\n      .then(data => {\\r\\n        // transform into workable data\\r\\n        const loadedProperties = [];\\r\\n        for (const key in data) {\\r\\n          loadedProperties.push({\\r\\n            ...data[key],\\r\\n            id: key\\r\\n          });\\r\\n        }\\r\\n        // push data into local store\\r\\n        properties.setProperties(loadedProperties); // doesn't have to be .reverse()\\r\\n        // turn off loading indicator\\r\\n        isLoading = false;\\r\\n        // isSplash = false;\\r\\n      });\\r\\n  });\\r\\n\\r\\n  function showPreview(event) {\\r\\n    // if (!selectedProperty.id || !isPreview) { console.log('NO || NO') }\\r\\n    // if (selectedProperty.id == event.detail && isPreview) {\\r\\n    //   isPreview = false;\\r\\n    //   selectedProperty = {};\\r\\n    // } else {\\r\\n      selectedProperty.id = event.detail;\\r\\n      const unsubscribe = properties.subscribe(items => {\\r\\n        previewProperty = items.find(i => i.id === selectedProperty.id);\\r\\n      });\\r\\n      unsubscribe();\\r\\n      isPreview = true;\\r\\n    // }\\r\\n      setTimeout(() => {\\r\\n        mapComponent.resize();\\r\\n      }, 0);\\r\\n      mapComponent.setCenter([previewProperty.location.lng, previewProperty.location.lat]);\\r\\n      previewpane.scrollTo({top: 0, behavior: 'smooth'}); // is there better way to refer to a pane instead of id?\\r\\n      // console.log(\\\"showPreview: \\\", selectedProperty.id);\\r\\n  }\\r\\n\\r\\n  function showDetails(event) {\\r\\n    isDetails = true;\\r\\n    // console.log(\\\"showDetails: \\\", selectedProperty.id);\\r\\n  }\\r\\n\\r\\n  function closeDetails() {\\r\\n    isDetails = false;\\r\\n    // selectedProperty = {}; // reset selectedProperty object\\r\\n  }\\r\\n\\r\\n  function hideSplash() {\\r\\n    isSplash = false;\\r\\n  }\\r\\n</script>\\r\\n\\r\\n<style>\\r\\n  .main-wrapper {\\r\\n    display: grid;\\r\\n    grid: 1fr / 1fr;\\r\\n    grid-template-areas: \\\"map\\\";\\r\\n    width: 100vw;\\r\\n    height: 100vh;\\r\\n    overflow: hidden;\\r\\n    background: var(--color-black);\\r\\n    /* min-height: -webkit-fill-available; */\\r\\n  }\\r\\n  .main-wrapper.previewing {\\r\\n    grid: 1fr 1fr / 1fr;\\r\\n    grid-template-areas:\\r\\n      \\\"map\\\"\\r\\n      \\\"preview\\\";\\r\\n  }\\r\\n  @media (orientation: landscape) {\\r\\n    .main-wrapper.previewing {\\r\\n      grid: 1fr / 1fr 1fr;\\r\\n      grid-template-areas: \\\"map preview\\\";\\r\\n    }\\r\\n  }\\r\\n  @media (min-width: 768px) and (orientation: landscape) {\\r\\n    .main-wrapper.previewing {\\r\\n      /* grid-template-columns: 1fr auto; */\\r\\n      grid: 1fr / 1fr minmax(450px, min-content);\\r\\n    }\\r\\n  }\\r\\n\\r\\n  .map { grid-area: map; }\\r\\n\\r\\n  .preview {\\r\\n    grid-area: preview;\\r\\n    overflow: auto;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n  }\\r\\n</style>\\r\\n\\r\\n<svelte:head>\\r\\n  <title>Cariari Realty | CR</title>\\r\\n</svelte:head>\\r\\n\\r\\n{#if isSplash}\\r\\n  <Splash on:splashed={hideSplash} />\\r\\n{/if}\\r\\n\\r\\n{#if !isSplash}\\r\\n  <!-- <LogoSvg\\r\\n    type=\\\"regular\\\"\\r\\n    color=\\\"gold\\\"\\r\\n    fixed=\\\"fixed\\\"\\r\\n    on:click={() => (isSplash = true)} /> -->\\r\\n  <LogoSvg animate=\\\"{true}\\\" style=\\\"gold\\\" fixed=\\\"fixed\\\" on:click=\\\"{() => (isSplash = true)}\\\" />\\r\\n{/if}\\r\\n\\r\\n{#if isLoading}\\r\\n  <LoadSpinner />\\r\\n{:else}\\r\\n\\r\\n  <section class=\\\"main-wrapper\\\" class:previewing={isPreview}>\\r\\n    <div class=\\\"map\\\">\\r\\n      <Map\\r\\n        bind:this={mapComponent}\\r\\n        on:ready={() => {\\r\\n          mapComponent.setCenter([-84.15756932466013, 9.973385405932916], 15, 14, 17);\\r\\n          isSplash = false;\\r\\n        }}\\r\\n        accessToken=\\\"{process.env.mapboxToken}\\\">\\r\\n\\r\\n        {#each $properties as property}\\r\\n          {#if property.is_active}\\r\\n          <Marker\\r\\n            on:showpreview={showPreview}\\r\\n            lat={property.location.lat}\\r\\n            lon={property.location.lng}\\r\\n            label={property.msl}\\r\\n            {property} />\\r\\n          {/if}\\r\\n        {/each}\\r\\n\\r\\n        <ScalingControl />\\r\\n        <GeolocateControl />\\r\\n        <NavigationControl />\\r\\n      </Map>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"preview\\\" id=\\\"previewpane\\\">\\r\\n      {#if isPreview}\\r\\n        <!-- Preview side panel -->\\r\\n        <Preview {previewProperty} on:showdetails={showDetails} />\\r\\n      {/if}\\r\\n    </div>\\r\\n  </section>\\r\\n\\r\\n  {#if isDetails}\\r\\n    <!-- Details -->\\r\\n    <Details id={selectedProperty.id} on:close={closeDetails} />\\r\\n  {/if}\\r\\n{/if}\\r\\n\"],\"names\":[],\"mappings\":\"AAsFE,aAAa,eAAC,CAAC,AACb,OAAO,CAAE,IAAI,CACb,IAAI,CAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CACf,mBAAmB,CAAE,KAAK,CAC1B,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,QAAQ,CAAE,MAAM,CAChB,UAAU,CAAE,IAAI,aAAa,CAAC,AAEhC,CAAC,AACD,aAAa,WAAW,eAAC,CAAC,AACxB,IAAI,CAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CACnB,mBAAmB,CACjB,KAAK;MACL,SAAS,AACb,CAAC,AACD,MAAM,AAAC,cAAc,SAAS,CAAC,AAAC,CAAC,AAC/B,aAAa,WAAW,eAAC,CAAC,AACxB,IAAI,CAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CACnB,mBAAmB,CAAE,aAAa,AACpC,CAAC,AACH,CAAC,AACD,MAAM,AAAC,YAAY,KAAK,CAAC,CAAC,GAAG,CAAC,cAAc,SAAS,CAAC,AAAC,CAAC,AACtD,aAAa,WAAW,eAAC,CAAC,AAExB,IAAI,CAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,KAAK,CAAC,CAAC,WAAW,CAAC,AAC5C,CAAC,AACH,CAAC,AAED,IAAI,eAAC,CAAC,AAAC,SAAS,CAAE,GAAG,AAAE,CAAC,AAExB,QAAQ,eAAC,CAAC,AACR,SAAS,CAAE,OAAO,CAClB,QAAQ,CAAE,IAAI,CACd,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,AACxB,CAAC\"}"
};

const Index = api.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let $properties = api.get_store_value(Details.properties);

	

  const { NavigationControl, ScalingControl, GeolocateControl } = controls;

  if (typeof window !== "undefined") {
    window.global = {};
  }
  let mapComponent;

  let selectedProperty = {};
  let previewProperty = {};
  let isSplash = true;
  let isPreview = false;
  let isDetails = false;
  let isLoading = true;

  // console.log('PHONE: ', process.env.phoneNumber)
  // console.log('MAPBOX: ', process.env.mapboxToken)
  // console.log('FIREBASE: ', process.env.Firebase)

  api.onMount(async () => {
    await api.get(`cariari.json`, null)
      .then(data => {
        // transform into workable data
        const loadedProperties = [];
        for (const key in data) {
          loadedProperties.push({
            ...data[key],
            id: key
          });
        }
        // push data into local store
        Details.properties.setProperties(loadedProperties); // doesn't have to be .reverse()
        // turn off loading indicator
        isLoading = false;
        // isSplash = false;
      });
  });

	$$result.css.add(css$4);

	let $$settled;
	let $$rendered;

	do {
		$$settled = true;

		$$rendered = `${($$result.head += `<title>Cariari Realty | CR</title>`, "")}

		${ isSplash ? `${api.validate_component(Splash, 'Splash').$$render($$result, {}, {}, {})}` : `` }

		${ !isSplash ? `
		  ${api.validate_component(api.LogoSvg, 'LogoSvg').$$render($$result, {
			animate: true,
			style: "gold",
			fixed: "fixed"
		}, {}, {})}` : `` }

		${ isLoading ? `${api.validate_component(LoadSpinner, 'LoadSpinner').$$render($$result, {}, {}, {})}` : `<section class="${[`main-wrapper svelte-12ipato`, isPreview ? "previewing" : ""].join(' ').trim() }">
		    <div class="map svelte-12ipato">
		      ${api.validate_component(Map, 'Map').$$render($$result, {
			accessToken: process.env.mapboxToken,
			this: mapComponent
		}, {
			this: $$value => { mapComponent = $$value; $$settled = false; }
		}, {
			default: () => `

		        ${api.each($properties, (property) => `${ property.is_active ? `${api.validate_component(Marker, 'Marker').$$render($$result, {
			lat: property.location.lat,
			lon: property.location.lng,
			label: property.msl,
			property: property
		}, {}, {})}` : `` }`)}

		        ${api.validate_component(ScalingControl, 'ScalingControl').$$render($$result, {}, {}, {})}
		        ${api.validate_component(GeolocateControl, 'GeolocateControl').$$render($$result, {}, {}, {})}
		        ${api.validate_component(NavigationControl, 'NavigationControl').$$render($$result, {}, {}, {})}
		      `
		})}
		    </div>

		    <div class="preview svelte-12ipato" id="previewpane">
		      ${ isPreview ? `
		        ${api.validate_component(Preview, 'Preview').$$render($$result, { previewProperty: previewProperty }, {}, {})}` : `` }
		    </div>
		  </section>

		  ${ isDetails ? `
		    ${api.validate_component(Details.Details, 'Details').$$render($$result, { id: selectedProperty.id }, {}, {})}` : `` }` }`;
	} while (!$$settled);

	return $$rendered;
});

exports.default = Index;
